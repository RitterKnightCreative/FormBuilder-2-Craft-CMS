{% set name = 'notify[' ~ type ~ '][template]' %}

{% if type == 'admin' %}
    {% set value = form.notify.admin.template is defined ? form.notify.admin.template : '' %}
{% else %}
    {% set value = form.notify.submitter.template is defined ? form.notify.submitter.template : '' %}
{% endif %}

{% set container = {
    title: 'Email Template' |t,
    info: null,
    icon: null,
    class: null,
    id: null
} %}

{% set inputs = {
    0: {
        type: 'select',
        name: name,
        value: value,
        options: templateOption |json_encode(),
        class: 'hidden',
        id: null,
        hint: 'FIELD'
    }
} %}

{% set modal = {
    title: 'Email Template' |t,
    instructions: 'Select email template to use for notification.' |t,
    successMessage: 'Email Template Updated' |t,
    inputs: inputs
} %}

{{ components.optionItem(
    container,
    modal,
    inputs
) }}